<!-- Include spf.js -->
<script src="https://ajax.googleapis.com/ajax/libs/spf/2.4.0/spf.js" type="text/javascript"></script>
<!-- Init spf -->
<script>
    spf.init();
</script>
<!-- Custom SPF animated progress bar -->
<script>
    document.addEventListener("spfrequest", function() {
        var progress = document.createElement("DIV");
        progress.id = "progress";
        progress.appendChild(document.createElement("DT"));
        progress.appendChild(document.createElement("DD"));
        document.body.insertAdjacentElement("beforeend", progress);

        setTimeout(function() {
            progress.style.width = "80%";
        }, 12);

        document.addEventListener("spfdone", function onSpfdone() {
            document.removeEventListener("spfdone", onSpfdone);

            progress.style.transitionDuration = "210ms";

            setTimeout(function() {
                progress.style.width = "100%";

                setTimeout(function() {
                    progress.remove();
                }, 200);
            }, 12);
        });
    });
</script>